<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React for Beginners - Commandz.io</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
</head>
<body>
    <header>
        <nav>
            <a href="/" class="nav-logo">
                <img src="/images/cmdz.jpg" alt="Commandz.io Logo" />
            </a>
            <a href="/about">About</a>
            <a href="/posts">Blog</a>
            <a href="/learning">Learning</a>
            <a href="/snippets">Snippets</a>
        </nav>
    </header>

    <main>
        
<article class="content">
    <header class="content-header">
        <h1 class="title">React for Beginners</h1>
        
        <div class="metadata">
            <div class="primary-meta">
                
                <time datetime="2019-06-06T00:00:00.000Z">06 Jun 2019</time>
                

                
                <span class="separator">â€¢</span>
                <span class="presenter">notes on work by Wes Bos</span>
                

                
            </div>

            
            <div class="tags-container">
                
                <span class="tag">javascript</span>
                
                <span class="tag">react</span>
                
                <span class="tag">html</span>
                
                <span class="tag">css</span>
                
                <span class="tag">learning</span>
                
            </div>
            
        </div>

        
        <div class="abstract">
            A thorough introduction to React and its professional use for production applications
        </div>
        

        
        <div class="featured-image">
            <a href="https://github.com/AndyWendt/Wes-Bos-React-For-Beginners" target="_blank" rel="noopener">
                <img src="/images/courses/react-for-beginners/react-for-beginners.png" alt="React for Beginners">
            </a>
        </div>
        
    </header>

    <div class="content-body">
        <h2>02 - Thinking and Understanding React Components</h2>
<h3>Components</h3>
<p>Is a reusable piece of your site.  Basically able to reuse tags throughout your site.  They're not custom tags, even though they'll look like that in the react inspector, they're react components. The components pull on data and whenever it changes then it gets updated.</p>
<h2>03 - Creating our first component</h2>
<ul>
<li>Components need at least one method which for a component is <code>render()</code></li>
<li>React needs to be imported in all component files</li>
<li>You need to render out the html at least in one location (only one if it is only a react app)
<ul>
<li>You import the renderer from <code>react-dim</code></li>
</ul>
</li>
</ul>
<pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> render <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-dom'</span>
<span class="token keyword">import</span> StorePicker <span class="token keyword">from</span> <span class="token string">'./components/StorePicker'</span>

<span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>StorePicker <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#main'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2>04 - Writing HTML with JSX</h2>
<p>Writing HTML in javascript is a pain though that pain has been eased slightly with the introduction of javascript templates.  JSX makes it easier by being able to write HTML/React components without the use of HTML.  It would look like:</p>
<pre><code>&lt;p className=&quot;hey&quot;&gt;Hello&lt;/p&gt;
</code></pre>
<p>There is an alternative way to write the html:</p>
<pre><code>React.createElement('p', {className: &quot;hey&quot;}, &quot;Hello&quot;)
</code></pre>
<p>The above makes one want to claw their eyes out especially when you have to nest create elements:</p>
<pre><code>React.createElement('p', {className: &quot;hey&quot;}, React.createElement('p', {className: &quot;cool&quot;}, &quot;Yoyo&quot;))
</code></pre>
<p>Javascript's automatic semicolon insertion is why you use the pair of parentheses: <code>()</code></p>
<h3>Rendering and returning sibling elements</h3>
<p>From a render method you can only ever return one element.   Meaning that you can have multiple elements but there must be a root or parent element (you can't return siblings):</p>
<pre><code>&lt;div className=&quot;parent&quot;&gt; 
	&lt;p className=&quot;child1&quot;&gt;&lt;/p&gt;
	&lt;p className=&quot;child2&quot;&gt;&lt;/p&gt;
&lt;/div&gt;
</code></pre>
<p>However, in React 16.2 you can return siblings if you wrap them in a <code>React.Fragment</code> tag.  It renders out to nothing and removes the need for needless dummy divs.</p>
<pre><code>&lt;React.Fragment&gt;
	&lt;p className=&quot;child1&quot;&gt;&lt;/p&gt;
	&lt;p className=&quot;child2&quot;&gt;&lt;/p&gt;
&lt;/React.Fragment&gt;
</code></pre>
<p>Soon blank tags may be allowed to achieve the same goal as <code>React.Fragment</code>:</p>
<pre><code>&lt;&gt;
	&lt;p className=&quot;child1&quot;&gt;&lt;/p&gt;
	&lt;p className=&quot;child2&quot;&gt;&lt;/p&gt;
&lt;/&gt;
</code></pre>
<h3>Commenting in JSX</h3>
<p>In order to comment in JSX, you need to use <code>{}</code> that basically tells the compiler that we're going to be writing in Javascript now.  There are no regular html comments.</p>
<p><code>{/* my comment */}</code></p>
<p>Also, realize that you currently can't add a expression/comment before the html that is returned.  Otherwise it will give a very vague error such as: <code>Syntax Error: unexpected token , expected ,</code>.  This will fail:</p>
<pre><code>{/* my comment */}
&lt;div className=&quot;parent&quot;&gt; 
	&lt;p className=&quot;child1&quot;&gt;&lt;/p&gt;
	&lt;p className=&quot;child2&quot;&gt;&lt;/p&gt;
&lt;/div&gt;
</code></pre>
<p>This will not:</p>
<pre><code>&lt;div className=&quot;parent&quot;&gt; 
	{/* my comment */}
	&lt;p className=&quot;child1&quot;&gt;&lt;/p&gt;
	&lt;p className=&quot;child2&quot;&gt;&lt;/p&gt;
&lt;/div&gt;
</code></pre>
<h2>05 - Loading CSS Into Our React Application</h2>
<h3>Componetized CSS</h3>
<p>There's two different ways that you can handle the CSS.  The first is to globally add it to your base HTML page.  The second is to import the css into the react component which allows for the css to be coupled to the component and for it to be specific to that component.</p>
<p>When you create a react application using <code>create react app</code> then it automatically creates a webpack configuration as well. It automatically adds hot reloading for a served development page.</p>
<h2>07 - Passing Dynamic Data with Props</h2>
<ul>
<li><strong>Props</strong> is how the data gets to where it needs to go
<ul>
<li>To pass in a string define props as a string: <code>&lt;Header tagline=&quot;my tagline&quot; /&gt;</code></li>
<li>To pass in anything other than a string you need to use curly's: <code>&lt;Header age={500} /&gt;</code></li>
<li>To reference props, they live at <code>this.props.&lt;prop-name&gt;</code> inside of a component.  Use a pair of <code>{}</code> to resolve them in JSX
<ul>
<li><code>&lt;span&gt;{this.props.tagline}&lt;/span&gt;</code></li>
</ul>
</li>
<li>When you're using a stateless functional component, there is no <code>this</code> (as compared to when using an ES6 class) and a property of <code>props</code> is passed to the function. You just remove <code>this.</code> and access normally.</li>
</ul>
</li>
<li><strong>State</strong> where the data lives</li>
</ul>
<p><code>this</code> can refer to variables in the react dev tools such as <code>$r</code>. <code>$0</code>, <code>$1</code>, etc refer to the most recent things that you clicked on in the react dev tools.</p>
<h2>08 - Stateless Functional Components</h2>
<p>For components that only have a render method that returns HTML, there's no need for it to be a full blown react component.  In that situation you can use a stateless functional component instead. Supposedly they're more performant and saves a bit of code.</p>
<p>You can use a function to define stateless functional components:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Header</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>
		<span class="token punctuation">{</span><span class="token comment">/* html */</span><span class="token punctuation">}</span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// or arrow function syntax: </span>
<span class="token keyword">const</span> <span class="token function-variable function">Header</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>
		<span class="token punctuation">{</span><span class="token comment">/* html */</span><span class="token punctuation">}</span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// or arrow function syntax with an implicit return:</span>
<span class="token keyword">const</span> <span class="token function-variable function">Header</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
		<span class="token punctuation">{</span><span class="token comment">/* html */</span><span class="token punctuation">}</span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// or arrow function syntax with an implicit return and destructured props:</span>
<span class="token comment">// tagline is pulled from props.tagline</span>
<span class="token keyword">const</span> <span class="token function-variable function">Header</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>tagline<span class="token punctuation">,</span> age<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
		<span class="token punctuation">{</span><span class="token comment">/* html */</span><span class="token punctuation">}</span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2>09 - Routing with React Router</h2>
<p>Routing is not baked into react. Two most popular are React Router and Next.js.  The router in react is a component.</p>
<p>The <code>&lt;Route&gt;</code> tag works by sequentially going through the routes to see if it finds a match.  <code>&lt;Route exact path=&quot;/&quot; component={StorePicker}&gt;</code> matches, exactly, the <code>/</code> route.</p>
<p><code>&lt;Route path=&quot;/stores/:storeId&quot; component={App}&gt;</code> matches <code>/stores/*</code> and passes <code>storeId</code> to the <code>App</code> component at <code>props.match.params.storeId</code>.</p>
<p>Route provides the route params to the component that is mentioned in the route</p>
<h2>10 - Helper and Utility Functions</h2>
<p>Named exports are exports in ES6 modules that are not default exports.  In React, if you put a value on an input element then React will error out since doing so creates a read-only field.</p>
<h2>11 - Events, Refs, and this Binding</h2>
<p>Events in React are very similar to those say in jQuery, AngularJS and other FE frameworks.  React wraps events with its own synthetic events class.  For example, you can use the <code>onClick</code> prop to pass a method for React when the element is clicked: <code>&lt;button onClick={this.handleClick}&gt;Click Me!&lt;/button&gt;</code>.  Notice that the <code>handleClick</code> function is not immediately invoked.  It is invoked on every click so you must pass it a reference to the function and not a resolved function result.</p>
<p>Similarly, there's an <code>onSubmit</code> event that you can use on forms.</p>
<p>Every event function is passed an event object: <code>handleClick(event) {}</code></p>
<p>A golden rule in React is never to touch the DOM. However, there are some instances when you should but you should always default to not doing so.</p>
<p>To get the submitted form values you can use <code>ref</code> on the input. A deprecated way is to use <code>ref</code> with a string value.</p>
<pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span>input
	type<span class="token operator">=</span><span class="token string">"text"</span>
	required
	ref<span class="token operator">=</span><span class="token string">"myInput"</span>
	placeholder<span class="token operator">=</span><span class="token string">"Store Name"</span>
	defaultValue<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">getFunName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">></span>
</code></pre>
<p>Another way is to use a function ref (though a bit difficult to understand and grok):</p>
<pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span>input
	type<span class="token operator">=</span><span class="token string">"text"</span>
	required
	ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">myInput</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>myInput <span class="token operator">=</span> myInput<span class="token punctuation">}</span>
	placeholder<span class="token operator">=</span><span class="token string">"Store Name"</span>
	defaultValue<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">getFunName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">></span>
</code></pre>
<p>The standard way is like the below now.  You use <code>this.myInput</code> to reference the input ref that you created at the top of the class.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
	myInput <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token operator">&lt;</span>form<span class="token operator">></span>
			<span class="token operator">&lt;</span>input
				type<span class="token operator">=</span><span class="token string">"text"</span>
				required
				ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>myInput<span class="token punctuation">}</span>
				placeholder<span class="token operator">=</span><span class="token string">"Store Name"</span>
				defaultValue<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">getFunName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
			<span class="token operator">/</span><span class="token operator">></span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">></span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3>Component Lifecycle Events</h3>
<ul>
<li><code>componentDidMount()</code> will run as soon as the component mounts.</li>
<li><code>componentDidUpdate()</code></li>
</ul>
<h3>Binding</h3>
<p>Any methods that are added to a component, beyond what is provided in <code>React.Component</code>, will not be bound to this in the context of the component. The solution is to bind your own methods as well. Add a <code>constructor()</code> with a call to <code>super()</code>. Inside of there, you call each of your methods with <code>this.goToStore.bind(this)</code>.</p>
<p>Another solution is to use arrow functions which will be set to the instance instead of nothing:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">goToStore</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
		<span class="token comment">// this is set to MyClass instance</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h2>12 - Handling Events</h2>
<p>When a component is a child of the router (meaning it is used by the router), then it is provided the routes that it needs to manage and manipulate routes.</p>
<p>Change the route by:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/store/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>storeName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2>13 - Understanding State</h2>
<p>State is an object that lives inside of a component and stores data for that component and possibly some of its children. It is a single source of truth.  If you update the state, the data, then it will react and update all of the different places that rely upon it.</p>
<p>Every component in React can have its own state.  However, it is often that you have a parent state on a higher component and you pass that down to the children.  You can't pass data up but you can pass it down.</p>
<p>You can initialize state in the constructor:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Or you can use a property which is the preferred way:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
	state <span class="token operator">=</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">fishes</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token literal-property property">order</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>You can pass state using props:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
	state <span class="token operator">=</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">fishes</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token literal-property property">order</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token function-variable function">addFish</span> <span class="token operator">=</span> <span class="token parameter">fish</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Adding a fish"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span>
			<span class="token operator">&lt;</span>Inventory addFish<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>addFish<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>In order to update state in React you need to:</p>
<ol>
<li>
<p>take a copy of the existing staten: <code>const fishes = {...this.state.fishes}</code></p>
<ul>
<li>You don't want to directly modify state since that is mutating the object and it causes issues with performance and with things updating out of order.</li>
<li>Use an object spread: <code>...</code>.  A deep clone is not necessary.</li>
</ul>
</li>
<li>
<p>add the new object to the copy</p>
</li>
<li>
<p>set the new composite object to state</p>
<ul>
<li>Use <code>this.setState(fishes)</code></li>
<li>This will trigger a change on the page</li>
<li>You don't need to pass the entire state but just the individual elements</li>
</ul>
</li>
</ol>
<h2>14 - Loading data into state onClick</h2>
<p>Create state event functions in the same component in which the state lives.</p>
<h2>15 - Displaying State with JSX</h2>
<p>How to loop over fishes in JSX? JSX doesn't have logic.  Use JS for logic.</p>
<p>When creating an array of tracked items in React you need to pass a unique key property: <code>&lt;li key={myRandomVariable}&gt;&lt;/li&gt;</code>.  Needs to be a string index (I believe).</p>
<h2>16 - Updating Our State</h2>
<p>You can disable a button by using the disabled prop: <code>&lt;button disabled={!isAvailable} &gt;Add to Cart&lt;/button&gt;</code></p>
<p>React does not give you access to the key when working with iterated items so you must use a different prop, in this case <code>index</code>, in order to get access to the key.</p>
<pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span>Fish key<span class="token operator">=</span><span class="token punctuation">{</span>key<span class="token punctuation">}</span> index<span class="token operator">=</span><span class="token punctuation">{</span>key<span class="token punctuation">}</span> details<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>fishes<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">}</span> addToOrder<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>addToOrder<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
</code></pre>
<h2>17 - Displaying Order State with JSX</h2>
<p>To add all of the properties from a state to the component, you can use an object spread. In the below example, the <code>Order</code> component would receive the props <code>fishes</code> and <code>order</code>.  Doing this is not recommended since it is a best practice to explicitly define state when adding state to components.</p>
<pre class="language-js"><code class="language-js">state <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">fishes</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">order</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token operator">&lt;</span>Order <span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span>
</code></pre>
<p>When you're doing too much inside of your render component, that typically means that you should create a new component and delegate some of the functionality to it.</p>
<p>Another pattern is that you can add separate render functions to a component.</p>
<h2>18 - Persisting our State with Firebase</h2>
<p>Use lifecycle methods to add in things such as persistence.</p>
<pre class="language-js"><code class="language-js"><span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'here'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>We'll be using <code>this.ref</code> though those refs are different than what we've been using in react.  It refers to the firebase <code>refs</code>.</p>
<p>When you switch from one &quot;store&quot; to another, you can create memory leaks with Firebase since the browser is still listening for changes.  You need to use the <code>componentWillUnmount()</code> method.</p>
<pre class="language-js"><code class="language-js"><span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	base<span class="token punctuation">.</span><span class="token function">removeBinding</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>ref<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2>19 - Persisting Order State with LocalStorage</h2>
<p>Use localStorage <code>setItem()</code> and <code>getItem()</code>.</p>
<h2>20 - Bi-directional Data Flow and Live State Editing</h2>
<p>React doesn't like it when you put state into an editable area without a plan to update it.  Don't use input value without adding an <code>onChange()</code> event.</p>
<p>Computed property names (new in ES6):</p>
<pre class="language-js"><code class="language-js"><span class="token function-variable function">handleChange</span> <span class="token operator">=</span> <span class="token parameter">event</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> updatedFish <span class="token operator">=</span> <span class="token punctuation">{</span>
		<span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>fish<span class="token punctuation">,</span>
		<span class="token punctuation">[</span>event<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token operator">:</span> event<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>value
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">updateFish</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>index<span class="token punctuation">,</span> updatedFish<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h2>21 - Removing Items from State</h2>
<p>To delete an item you first copy the state element and then you set the individual item to null and then you set the state again using the react function.  You can't use the <code>delete</code> keyword because of Firebase.  It expects that you'll set the item to null.   It's pretty much the same as the update except that you set it to null instead of the updated item.</p>
<pre class="language-js"><code class="language-js"><span class="token function-variable function">deleteFish</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> fishes <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>fishes <span class="token punctuation">}</span><span class="token punctuation">;</span>
	fishes<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> fishes <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h2>22 - Animating React Components</h2>
<p>To add React transitions to a <code>ul</code> element, use the <code>TransitionGroup</code> component with a prop of <code>component</code> equal to <code>ul</code>:</p>
<pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span>TransitionGroup component<span class="token operator">=</span><span class="token string">"ul"</span> className<span class="token operator">=</span><span class="token string">"order"</span><span class="token operator">></span>
	<span class="token punctuation">{</span> orderIds<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>renderOrder<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>TransitionGroup<span class="token operator">></span>
</code></pre>
<p>To add in a React CSS transition to an <code>li</code>, use the <code>CSSTransition</code> component providing a <code>classNames</code>, <code>timeout</code>, and <code>key</code> prop:</p>
<pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span>CSSTransition classNames<span class="token operator">=</span><span class="token string">"order"</span> key<span class="token operator">=</span><span class="token punctuation">{</span>key<span class="token punctuation">}</span> timeout<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token literal-property property">enter</span><span class="token operator">:</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token literal-property property">exit</span><span class="token operator">:</span> <span class="token number">250</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>li<span class="token operator">></span>
		<span class="token comment">// your code</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>CSSTransition<span class="token operator">></span>
</code></pre>
<p>Setting max-height to 0 allows you to transition from a fixed height to a calculated height.  It's a bit of a hack.</p>
<h2>23 - Component Validation with PropTypes</h2>
<p>The PropTypes package used to be built in to React and now it is an alternative to Flow or Typescript. Here's an example for a stateless functional component:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">'prop-types'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Header</span> <span class="token operator">=</span> <span class="token parameter">props</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>header className<span class="token operator">=</span><span class="token string">"top"</span><span class="token operator">></span>
                <span class="token operator">&lt;</span>h3 className<span class="token operator">=</span><span class="token string">"tagline"</span><span class="token operator">></span>
                    <span class="token operator">&lt;</span>span<span class="token operator">></span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>tagline<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">></span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>header<span class="token operator">></span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Header<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">tagline</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Header<span class="token punctuation">;</span>
</code></pre>
<p>For a regular react component, you can use a static property:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">"prop-types"</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">AddFishForm</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">addFish</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>func
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token comment">// redacted</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> AddFishForm<span class="token punctuation">;</span>
</code></pre>
<h2>29 - Eject from create-react-app</h2>
<p>Use eject from create react app when you need to add in custom build processes or compilation steps.  It is a permament change so do it on a separate branch first to test.   It adds several dependencies and you can edit the webpack file directly.</p>

    </div>
</article>

<style>
    .content {
        max-width: 900px;
        margin: 0 auto;
        padding: 0 1rem;
    }

    .content-header {
        margin-bottom: 3rem;
    }

    .title {
        font-size: 2.5rem;
        margin-bottom: 1rem;
        line-height: 1.2;
    }

    .metadata {
        margin: 1.5rem 0;
    }

    .primary-meta {
        color: #666;
        font-size: 1rem;
        margin-bottom: 1rem;
    }

    .separator {
        margin: 0 0.5rem;
        color: #ccc;
    }

    .tags-container {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        margin-top: 0.75rem;
    }

    .tag {
        background-color: #f3f4f6;
        color: #4b5563;
        font-size: 0.875rem;
        padding: 0.25rem 0.75rem;
        border-radius: 9999px;
        display: inline-block;
        transition: all 0.2s ease;
    }

    .tag:hover {
        background-color: #e5e7eb;
    }

    .abstract {
        font-size: 1.25rem;
        color: #4b5563;
        margin: 2rem 0;
        line-height: 1.6;
        font-style: italic;
    }

    .featured-image {
        margin: 2rem auto;
        text-align: center;
        max-width: 700px;
    }

    .featured-image img {
        max-width: 100%;
        height: auto;
        border-radius: 12px;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    }

    /* Specific image sizing based on image path */
    img[src*="/books/"] {
        max-width: 300px;
    }

    img[src*="/courses/"] {
        max-width: 500px;
    }

    img[src*="/videos/"] {
        max-width: 600px;
    }

    .content-body {
        font-size: 1.125rem;
        line-height: 1.75;
        color: #1a1a1a;
    }

    @media (max-width: 768px) {
        .title {
            font-size: 2rem;
        }

        .abstract {
            font-size: 1.125rem;
        }

        .featured-image {
            max-width: 100%;
        }
        
        img[src*="/books/"],
        img[src*="/courses/"],
        img[src*="/videos/"] {
            max-width: 100%;
            width: auto;
        }
    }
</style> 

    </main>

    <footer class="site-footer">
        <p>&copy; 2019 Commandz.io. All rights reserved.</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
</body>
</html> 